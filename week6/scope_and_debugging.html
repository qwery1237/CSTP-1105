<!DOCTYPE html>
<html>
    <head>
        <title>Scope and Debugging</title>
        <style>
            body {
                font-family: helvetica;
            }
            em { 
                font-weight: bold; 
                font-style: normal; 
                text-decoration: underline; 
                font-size: 1.2em; 
            }
            h1 {
                text-align:center;
            }
            ol {
                list-style: none;
                counter-reset: item;
                width: 700px; 
                position: relative; 
                left: 50%; 
                margin-left: -350px;
            }
            ol > li {
                counter-increment: item;
                margin-bottom: 20px;
            }
            ol > li:before {
                margin-right: 10px;
                content: counter(item);
                background: crimson;
                border-radius: 100%;
                color: white;
                width: 1.3em;
                text-align: center;
                display: inline-block;
            }
        </style>
    </head>

    <body>
        <h1>JavaScript Scope and Debugging</h1>
        <p>Each of the below questions have code that contains bugs. They each are commented out to prevent the errors from blocking the page load. Remove both the opening <strong>/*</strong> and <strong>*/</strong> closing comments on a question when you want to start on that question. Add your own comments explaining what each of the bugs you squashed were.</p>
        <script>
        	// ==============
        	// Test out Scope
        	// ==============
        	
        </script>

        <ol>
        	<li><em>Xs or Os</em>
                <br/>
                Code that counts the number of Xs or Os in array based on user choice.
            </li>
            <script>
            	
            	// Debug Q1
            	
                const arrXO = ["X", "X", "O", "X", "O"];
                let count = 0;
                const checkX = confirm("Click OK for X and Cancel for O");
                let search;
                if (checkX) {
                    search = "X";
                }
                else {
                    search = "O";
                }

                for (let i=0; i<arrXO.length; i++) {
                    if (arrXO[i] == search){ 
                        count += 1; 
                    }

                }

                console.log("There are " + count + " '" + search + "'");

            </script>


            <li><em>Multiplication Math Table</em>
                <br/>
                Create a function that asks the user (use a prompt) for a number and then prints in a single console.log 
                <br><br>
                x * 1 = y<br>
                x * 2 = y<br>
                x * 3 = y<br>
                ...<br>
                x * 12 = y<br><br>
                Where x is the number the user selected and y is x multiplied by the corresponding number. If the user types in the number 4, 13 or 14 however don't show the multiplications and instead console.log "UNLUCKY".
            </li>
            <script>
            	
            	// Debug Q2

            	let message = "";

                function multiplyNum() {const x = prompt("Type in a number.")
                    if (x == 4 || x == 13 || x == 14){ 
                        console.log("UNLUCKY");
                    }
                    else {
                        for (let i=1; i<12; i+=1) {
                            message += x + " * " + i + " = " + x * i + "\n";
                        }
                        console.log(message);
                    }
                }

                multiplyNum();
               
            </script>


            <li><em>Countries and Capitals</em>
                <br/>
                Create a function that takes in a string parameter. If that string is a country that exists inside countries array, return a sentence that reads "X is the capital of Y". If the parameter provided to the function is not a country in the array then return "No such country exists". Test this function out in the console.
                
            </li>
            <script>
        
            	// Debug Q3

                function displayCountry(country) {
                	const countries = ["USA", "France", "Germany", "Italy"];
                	const capitals = ["Berlin", "Rome", "Washington", "Paris", ];

                	if (countries.includes(country)) {
                        console.log(
                            capitals[countries.indexOf(country)] + " is the capital of " + country
                        )
                	}
                	else {
                		console.log("No such country exists");
                	}
                }
                displayCountry(prompt("contry"))

                // Test this function in the console
            </script>


            <li><em>Tax Calculator</em>
                <br/>
                Write code that will ask the user, using a prompt, what their monthly gross income is. If the user doesn't type in a number tell them their mistake with an alert and do not proceed with the calculation.
                <ul>
                    <li>If the user earns less than or equal to 500 dollars the tax taken is 0 and they are in the low tax bracket. Only for these people should you do the following. Ask the user how many children they have. For each child that they have, give them 10 dollars in child benefits. If the user does not type in a number they get 0 dollars in child benefits.</li>
                    <li>If the user earns more than 500 dollars but less than or equal to 700 they are in the medium tax bracket. Tax taken here should be 15% of any sum that is over 500.</li>
                    <li>If the user earns more than 700 dollars they are in the high tax bracket. Tax taken here should be 15% of the sum that is over 500 but less than 701 and 25% of everything over 700.</li>
                </ul>
                The final result should show in a single alert the user's gross income, the tax bracket (low, medium or high), total tax, child benefits and net income (gross + child benefits - tax).

                <p>Gross Salary = 400, Number of Kids = 2, Bracket = Low, Net Income = 420<br>
                   Gross Salary = 620, Bracket = Medium, Net Income = 602<br>
               Gross Salary = 900, Bracket = High, Net Income = 820.15
            </li>
            <script>
            	// Debug Q4
                const grossSalary = prompt("What is your gross salary?");
                let tax = 0;
                let childBenefits = 0;
                let bracket;
                if (isNaN(grossSalary)) {
                alert("Please enter a number for this.");
                }
                else {
                // Calculate the tax
                    if (grossSalary <= 500) {
                        bracket = "Low";
                        const numOfKids = parseInt(prompt("How many children do you have?"));

                        if (!isNaN(numOfKids)) {
                        childBenefits += 10 * numOfKids;
                        }
                    }
                    else if (grossSalary > 500 && grossSalary <= 700) {
                        bracket = "Medium";
                        tax = (grossSalary - 500) * .15;
                    }
                    else {
                        bracket = "High";
                        tax = (700 - 501) * .15;
                        tax += (grossSalary - 700) * .25;
                    }

                    alert(`Gross Income = ${grossSalary}
                        Tax Bracket = ${bracket}
                        Total Tax = ${tax}
                        Child Benefits = ${childBenefits}
                        Net Income = ${grossSalary - tax + childBenefits}`);
                }
            </script>
        </ol>

        <script>

        </script>
    </body>
</html>
